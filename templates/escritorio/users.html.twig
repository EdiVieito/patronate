{% extends 'base-panel.html.twig' %}
{% block main %}
 <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
        <h1 class="h2">Solicitudes pendientes</h1>
  </div>
      <div class="container mt-4 table-responsive">
      {% if solicitudes is empty %}
    No hay solicitudes pendientes
{% else %}
        <table class="table table-striped table-sm mb-4">
          <thead>
            <tr>
            <th scope="">Fecha</th>
              <th scope="col">Usuario</th>
              <th scope="col">Curso solicitado</th>
              <th scope="col">Acciones</th>
            </tr>
          </thead>
          <tbody>
          
          {% for solicitud in solicitudes %}
            <tr>
              <td><span class="px-2">{{ solicitud.Fecha |date('d-m-Y') }}</span></td>
              <td>{{solicitud.User}}</td>
             <td>{{solicitud.Curso}}</td>
              <td>
              <a href="solicitudes/aceptar/{{solicitud.id}}" class="btn btn-success text-light">
              <i class="fas fa-check"></i><span class="sm-hidden xs-hidden"></span>
              </a> 
              <a href="solicitudes/eliminar/{{solicitud.id}}" class="btn btn-danger"><i class="fas fa-times"></i><span class="sm-hidden xs-hidden"></span></a></td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
        {% endif %}
      </div>
 <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-5 pb-2 mb-3 border-bottom">
        <h1 class="h2">Usuarios</h1>
  </div>
      <div class="container mt-4 table-responsive">
        <table class="table table-striped table-sm">
          <thead>
            <tr>
              <th scope="col"><span class="px-2">id</span></th>
              <th scope="col">Email</th>
              <th scope="col">Rol</th>
              <th scope="col">Cursos</th>
              <th scope="col">Acciones</th>
            </tr>
          </thead>
          <tbody>
          {% for user in users %}
            <tr>
              <td><span class="px-2">{{user.id}}</span></td>
              <td><a href="mailto:{{user.email}}">{{user.email}}</a></td>
              <td>{{ user.roles|join(', ', ' y ') }}</td>
              <td>
              {% for curso in user.cursosCostura %}
              <span class="badge text-bg-secondary">{{ curso.titulo}} </span>
              {% endfor %}
              </td>
              <td>
              <a href="/actualizar/user/{{user.id}}" class="btn btn-info text-light">
              <i class="fas fa-edit"></i><span class="sm-hidden xs-hidden"> Editar</span>
              </a> 
              <a href="/eliminar/user/{{user.id}}" class="btn btn-danger"><i class="fas fa-trash-alt"></i><span class="sm-hidden xs-hidden"> Eliminar</span></a></td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>

     
{% endblock %}
